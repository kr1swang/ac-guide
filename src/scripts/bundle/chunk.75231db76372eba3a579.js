(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{134:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(2),o=n.n(i),l=n(14),s=n(3),c=n(77),u=n.n(c),m=n(17),p=function(e){var t=m.a;return u.a.get(t,{params:e})},h=n(126),f=n(127),d=n(32),y=n(46),k={prefix:"fas",iconName:"faFossil",icon:[512,512,[],"e001","M77.003,105.092l90.579,90.579c12.224-6.147,25.92-9.854,39.568-10.844V47.877 C158.093,52.99,112.653,73.613,77.003,105.092z M237.171,46.724v140.569c19.804,3.737,37.587,11.771,53.202,23.887l107.34-107.34 C348.732,66.961,291.722,48.117,237.171,46.724z M55.73,126.272C25.408,160.909,6.107,204.75,0.682,253.924c-0.079,0.706-0.057,1.398-0.128,2.102h114.287 c5.514-16.253,15.178-30.703,28.004-42.639L55.73,126.272z M223.162,214.896c-20.116-2.403-39.93,3.603-55.841,16.211c-15.61,12.608-25.517,30.623-27.92,50.737 c-3.603,31.823,19.515,60.645,51.338,64.246c23.76,2.5,45.546-14.45,48.034-38.729c2.102-17.411-10.808-33.324-28.22-35.426 c-6.003-0.599-11.707,0.902-16.211,4.504c-6.606,4.802-16.211,3.603-21.015-3.003c-5.103-6.604-3.603-15.91,3.003-21.014 c10.808-8.107,24.017-11.708,37.527-10.208c33.624,3.603,58.242,34.225,54.939,67.849l41.43,6.904 C313.26,268.999,277.902,221.186,223.162,214.896z M223.162,214.896c-20.116-2.403-39.93,3.603-55.841,16.211c-15.61,12.608-25.517,30.623-27.92,50.737 c-3.603,31.823,19.515,60.645,51.338,64.246c23.76,2.5,45.546-14.45,48.034-38.729c2.102-17.411-10.808-33.324-28.22-35.426 c-6.003-0.599-11.707,0.902-16.211,4.504c-6.606,4.802-16.211,3.603-21.015-3.003c-5.103-6.604-3.603-15.91,3.003-21.014 c10.808-8.107,24.017-11.708,37.527-10.208c33.624,3.603,58.242,34.225,54.939,67.849l41.43,6.904 C313.26,268.999,277.902,221.186,223.162,214.896z M109.599,286.047H0c2.809,49.469,23.599,94.624,58.16,127.325l70.188-70.188 C115.797,327.45,109.044,307.366,109.599,286.047z M211.046,374.324c-7.677,1.634-15.58,2.353-23.61,1.488c-13.432-1.501-25.645-6.175-36.415-12.848l-69.454,69.454 c31.854,21.758,69.092,32.858,103.467,32.858c16.103,0,31.805-2.738,46.865-7.49L211.046,374.324z M259.787,338.886c-6.579,11.1-12.742,16.982-20.889,22.994l21.032,84.187c7.792-4.31,15.282-9.298,22.373-15.016 c25.819-20.713,43.833-48.335,52.538-79.556C297.429,345.446,313.372,348.11,259.787,338.886z M420.794,123.211L312.017,231.988c0.093,0.117,0.214,0.201,0.308,0.319c20.715,25.519,30.322,57.042,27.619,89.465 l171.496,28.609C516.515,267.789,487.153,185.084,420.794,123.211z"]},g=n(33);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(o,e);var t,n,r,i=C(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e)}return t=o,(n=[{key:"componentDidMount",value:function(){y.b.add(k)}},{key:"render",value:function(){var e=this;return a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px",borderTop:"0px"}},a.a.createElement(d.a,{icon:g.a})," 種類 : "),a.a.createElement("td",{style:{borderTop:"0px"}},a.a.createElement("span",null,a.a.createElement(f.a,{name:"type",variant:"outline-secondary",size:"sm",active:"fish"==this.props.type,onClick:function(t){return e.props.onChangeValue(t.target.name,"fish")}},a.a.createElement(d.a,{icon:g.l})," 魚類")," ",a.a.createElement(f.a,{name:"type",variant:"outline-secondary",size:"sm",active:"bug"==this.props.type,onClick:function(t){return e.props.onChangeValue(t.target.name,"bug")}},a.a.createElement(d.a,{icon:g.b})," 蟲類")," ",a.a.createElement(f.a,{name:"type",variant:"outline-secondary",size:"sm",active:"fossil"==this.props.type,onClick:function(t){return e.props.onChangeValue(t.target.name,"fossil")}},a.a.createElement(d.a,{icon:k})," 化石")," ",a.a.createElement(f.a,{name:"type",variant:"outline-secondary",size:"sm",active:"art"==this.props.type,onClick:function(t){return e.props.onChangeValue(t.target.name,"art")}},a.a.createElement(d.a,{icon:g.t})," 美術品")," ",a.a.createElement(f.a,{name:"type",variant:"outline-secondary",size:"sm",active:"song"==this.props.type,onClick:function(t){return e.props.onChangeValue(t.target.name,"song")}},a.a.createElement(d.a,{icon:g.i})," 唱片")," "))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.n})," 地區 : "),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement(f.a,{name:"hemisphere",variant:"outline-secondary",size:"sm",active:"northern"==this.props.hemisphere,onClick:function(t){return e.props.onChangeValue(t.target.name,"northern")}},a.a.createElement(d.a,{icon:g.e})," 北半球")," "),a.a.createElement("span",null,a.a.createElement(f.a,{name:"hemisphere",variant:"outline-secondary",size:"sm",active:"southern"==this.props.hemisphere,onClick:function(t){return e.props.onChangeValue(t.target.name,"southern")}},a.a.createElement(d.a,{icon:g.d})," 南半球")," ")))))}}])&&v(t.prototype,n),r&&v(t,r),o}(r.Component);w.defaultProps={type:"fish",hemisphere:"northern",onChangeValue:function(){}},w.propTypes={type:o.a.string,hemisphere:o.a.string,onChangeValue:o.a.func};var P=n(136),O=n(132),N=n(109),x=n(133),M=n(128),I=n(135),j=n(95),L=n.n(j);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var a=H(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,n,r,i=z(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).handleConverter=t.handleConverter.bind(J(t)),t}return t=o,(n=[{key:"handleConverter",value:function(e,t){var n=[];switch(e){case"month":for(var r=1;r<13;r++){var a={value:100,description:r%3==0?("0"+r).slice(-2):" ",color:-1!=t.indexOf(r)?"#007bff":"#e9ecef"};n.push(a)}break;case"hour":for(var i=1;i<25;i++){var o={value:100,description:i%6==0?("0"+i).slice(-2):" ",color:-1!=t.indexOf(i)?"#007bff":"#e9ecef"};n.push(o)}}return n}},{key:"render",value:function(){return a.a.createElement(L.a,{data:this.handleConverter(this.props.type,this.props.data),height:12,showTextUp:!0,fontColor:"#282c34",outlineWidth:.5})}}])&&_(t.prototype,n),r&&_(t,r),o}(r.Component);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var a=q(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}U.defaultProps={type:"month",data:[]},U.propTypes={type:o.a.string,data:o.a.array};var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(l,e);var t,n,i,o=W(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={carouselIndex:0},t.handelConvertColorCode=t.handelConvertColorCode.bind(G(t)),t}return t=l,(n=[{key:"handelConvertColorCode",value:function(e,t){var n="#E9EBEE",r=new Date,a="northern"==e?t.northernMonths:t.southernMonths,i=t.appearanceTime;return n=a.includes(r.getMonth()+1)&&i.includes(0==r.getHours()?24:r.getHours())?"#42B72A":"#FF0000",""==t.chineseName&&(n="#E9EBEE"),n}},{key:"render",value:function(){var e=this,t=this.props.activeItem.imageUrlForgery?["imageUrl","imageUrlForgery"]:["imageUrl"];return a.a.createElement(x.a,{show:this.props.isDialogShow,onHide:function(){e.props.onHide(),e.setState({carouselIndex:0})}},a.a.createElement(x.a.Header,{closeButton:!0},a.a.createElement(x.a.Title,null,["fish","bug"].includes(this.props.type)?a.a.createElement(r.Fragment,null,a.a.createElement("span",{style:{color:this.handelConvertColorCode("northern",this.props.activeItem)}},a.a.createElement(d.a,{icon:g.f,style:{verticalAlign:"middle",fontSize:"x-small"}})," 北半球")," / ",a.a.createElement("span",{style:{color:this.handelConvertColorCode("southern",this.props.activeItem)}},a.a.createElement(d.a,{icon:g.f,style:{verticalAlign:"middle",fontSize:"x-small"}})," 南半球")):"",["fossil","song"].includes(this.props.type)?a.a.createElement("span",{style:{color:"#000000"}},this.props.activeItem.chineseName):"",["art"].includes(this.props.type)?a.a.createElement("span",{style:{color:"#000000"}},this.props.activeItem.chineseName+" - "+(0==this.state.carouselIndex?"真品":"贗品")):"")),a.a.createElement(x.a.Body,null,a.a.createElement(h.a,{className:"dialog",hover:!0},a.a.createElement("tbody",null,["fish","bug","fossil","song"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"2",style:{textAlign:"center"}},this.props.isMarked?a.a.createElement(d.a,{icon:g.v,style:{position:"absolute",left:"15px",color:"#FFC107"}}):a.a.createElement(r.Fragment,null),a.a.createElement(N.a,null,a.a.createElement(M.a,{src:this.props.activeItem.imageUrl,loading:"lazy"})),a.a.createElement("h4",{className:"font-weight-bold"},this.props.activeItem.chineseName,a.a.createElement("br",null),this.props.activeItem.englishName))):a.a.createElement(r.Fragment,null),["art"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{colSpan:"2",style:{textAlign:"center"}},this.props.isMarked?a.a.createElement(d.a,{icon:g.v,style:{position:"absolute",left:"15px",color:"#FFC107"}}):a.a.createElement(r.Fragment,null),a.a.createElement(I.a,{activeIndex:this.state.carouselIndex,onSelect:function(t){return e.setState({carouselIndex:t})},interval:null},t.map((function(t,n){return a.a.createElement(I.a.Item,{key:n},a.a.createElement(N.a,null,a.a.createElement(M.a,{style:{maxWidth:"100%"},height:"200",src:e.props.activeItem[t],loading:"lazy"})))}))),a.a.createElement("h4",{className:"font-weight-bold"},this.props.activeItem.chineseName,a.a.createElement("br",null),this.props.activeItem.englishName))):a.a.createElement(r.Fragment,null),["fish","bug","fossil","song"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("h5",null,a.a.createElement(d.a,{icon:g.s})," 價錢")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement("h5",null,this.props.activeItem.price,a.a.createElement("small",null," 鈴錢")))):a.a.createElement(r.Fragment,null),["fish","bug"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("h5",null,a.a.createElement(d.a,{icon:g.q})," 地點")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement("h5",null,this.props.activeItem.location),""!=this.props.activeItem.remark?a.a.createElement("small",null,"※ "+this.props.activeItem.remark):"")):a.a.createElement(r.Fragment,null),["fossil"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("h5",null,a.a.createElement(d.a,{icon:k})," 系列")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement("h5",null,this.props.activeItem.series))):a.a.createElement(r.Fragment,null),["art"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("h5",null,a.a.createElement(d.a,{icon:g.t})," 系列")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement("h5",null,this.props.activeItem.series))):a.a.createElement(r.Fragment,null),["art","song"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("h5",null,a.a.createElement(d.a,{icon:g.o})," 備註")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement("h5",null,this.props.activeItem.remark))):a.a.createElement(r.Fragment,null),["fish"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("h5",null,a.a.createElement(d.a,{icon:g.l})," 魚影")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement("h5",null,this.props.activeItem.shadowSize))):a.a.createElement(r.Fragment,null),["fish","bug"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("label",null,a.a.createElement(d.a,{icon:g.c})," 北半球月份")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement(U,{type:"month",data:this.props.activeItem.northernMonths}))):a.a.createElement(r.Fragment,null),["fish","bug"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("label",null,a.a.createElement(d.a,{icon:g.c})," 南半球月份")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement(U,{type:"month",data:this.props.activeItem.southernMonths}))):a.a.createElement(r.Fragment,null),["fish","bug"].includes(this.props.type)?a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"30%",textAlign:"center"}},a.a.createElement("h5",null,a.a.createElement(d.a,{icon:g.g})," 時間")),a.a.createElement("td",{style:{width:"70%"}},a.a.createElement(U,{type:"hour",data:this.props.activeItem.appearanceTime}))):a.a.createElement(r.Fragment,null)))),a.a.createElement(x.a.Footer,null,a.a.createElement(f.a,{variant:"primary",size:"sm",active:this.props.isMarked,onClick:function(){return e.props.onChangeMarked(e.props.type,e.props.activeItem.index)}},a.a.createElement(d.a,{icon:g.v}),this.props.isMarked?" 取消標記":" 標記")))}}])&&V(t.prototype,n),i&&V(t,i),l}(r.Component);$.defaultProps={type:"bug",isDialogShow:!1,onHide:function(){},activeItem:{index:0,imageUrl:"",imageUrlForgery:"",chineseName:"",englishName:"",price:"",location:"",series:"",northernMonths:[],southernMonths:[],appearanceTime:[],remark:""},isMarked:!1,onChangeMarked:function(){}},$.propTypes={type:o.a.string,isDialogShow:o.a.bool,onHide:o.a.func,activeItem:o.a.object,isMarked:o.a.bool,onChangeMarked:o.a.func};var Q=n(129),X=n(130);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var a=ae(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?re(e):t}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(l,e);var t,n,i,o=te(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).handelConvertColorCode=t.handelConvertColorCode.bind(re(t)),t}return t=l,(n=[{key:"handelConvertColorCode",value:function(e,t){var n="#E9EBEE",r=new Date,a="northern"==e?t.northernMonths:t.southernMonths,i=t.appearanceTime;return n=a.includes(r.getMonth()+1)&&i.includes(0==r.getHours()?24:r.getHours())?"#42B72A":"#FF0000",""==t.chineseName&&(n="#E9EBEE"),n}},{key:"render",value:function(){var e=this;return a.a.createElement(Q.a,{onClick:function(){return e.props.onClick()},style:{minHeight:"98px"}},["fish","bug"].includes(this.props.type)?a.a.createElement(d.a,{icon:g.f,style:{position:"absolute",fontSize:"x-small",float:"left",color:this.handelConvertColorCode(this.props.hemisphere,this.props.object)}}):a.a.createElement(r.Fragment,null),["fish","bug"].includes(this.props.type)&&this.props.isMarked?a.a.createElement(d.a,{icon:g.v,style:{position:"absolute",fontSize:"x-small",float:"left",marginTop:"20px",color:"#FFC107"}}):a.a.createElement(r.Fragment,null),["fossil","art","song"].includes(this.props.type)&&this.props.isMarked?a.a.createElement(d.a,{icon:g.v,style:{position:"absolute",fontSize:"x-small",float:"left",color:"#FFC107"}}):a.a.createElement(r.Fragment,null),["fish","bug","fossil","song"].includes(this.props.type)?a.a.createElement(M.a,{style:{width:"20%",maxWidth:"80px",margin:"auto 20px",backgroundColor:"#FFF8DC"},src:this.props.object.imageUrl,roundedCircle:!0,loading:"lazy"}):a.a.createElement(r.Fragment,null),["art"].includes(this.props.type)?a.a.createElement(M.a,{style:{width:"20%",maxWidth:"80px",margin:"auto 20px",backgroundColor:"#FFF8DC",verticalAlign:"middle"},src:this.props.object.imageUrl,loading:"lazy"}):a.a.createElement(r.Fragment,null),a.a.createElement(Q.a.Body,null,a.a.createElement("h4",null,["fish","bug","fossil","art","song"].includes(this.props.type)?a.a.createElement("span",{className:"font-weight-bold",style:{verticalAlign:"middle"}},this.props.object.chineseName+" "):a.a.createElement(r.Fragment,null),["fish","bug","fossil"].includes(this.props.type)?a.a.createElement(X.a,{pill:!0,variant:"secondary"},"$ "+this.props.object.price):a.a.createElement(r.Fragment,null)),a.a.createElement("p",{style:{marginBottom:"0px"}},["fish"].includes(this.props.type)?this.props.object.shadowSize+" / ":"",["art"].includes(this.props.type)?this.props.object.imageUrlForgery?"有贗品 / ":"無贗品 / ":"",["fish","bug"].includes(this.props.type)?this.props.object.location:"",["fossil","art"].includes(this.props.type)?this.props.object.series:"",["fish","bug","fossil"].includes(this.props.type)&&""!=this.props.object.remark?a.a.createElement("small",null,a.a.createElement("br",null),"※ "+this.props.object.remark):"",["song"].includes(this.props.type)?this.props.object.remark:"")))}}])&&Z(t.prototype,n),i&&Z(t,i),l}(r.Component);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var a=pe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ie.defaultProps={type:"bug",hemisphere:"northern",object:{imageUrl:"",imageUrlForgery:"",chineseName:"",englishName:"",price:"",location:"",series:"",northernMonths:[],southernMonths:[],appearanceTime:[],remark:""},onClick:function(){},isMarked:!1},ie.propTypes={type:o.a.string,hemisphere:o.a.string,object:o.a.object,onClick:o.a.func,isMarked:o.a.bool};var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(l,e);var t,n,i,o=ce(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={isSnackbarShow:!1,snackbarMsg:"",isCollapseShow:!1,isDialogShow:!1,activeItem:{index:0,imageUrl:"",chineseName:"",englishName:"",price:"",location:"",shadowSize:"",northernMonths:[],southernMonths:[],appearanceTime:[],remark:""},emptyItem:{index:0,imageUrl:"",chineseName:"",englishName:"",price:"",location:"",shadowSize:"",northernMonths:[],southernMonths:[],appearanceTime:[],remark:""},markedOptions:["已標記","未標記"],locationOptions:["河川","池塘","懸崖上","出海口","大海","碼頭"],shadowSizeOptions:["特小","稍小","中","稍大","大","特大","細長","背鰭"],monthOptions:[1,2,3,4,5,6,7,8,9,10,11,12],hourOptions:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],isNoneFilter:!1,isTimeFilter:!1,markedPicked:[],filterName:"",locationPicked:[],shadowSizePicked:[],monthPicked:[],hourPicked:[]},t.handleFilterClick=t.handleFilterClick.bind(me(t)),t.handleWatchingTimeFilterUpdate=t.handleWatchingTimeFilterUpdate.bind(me(t)),t.handleConvertFilter=t.handleConvertFilter.bind(me(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.handleWatchingTimeFilterUpdate()}),1e3),this.handleFilterClick("isTimeFilter",!0)}},{key:"handleFilterClick",value:function(e,t){switch(e){case"isNoneFilter":this.setState({isNoneFilter:!0,isTimeFilter:!1,markedPicked:[],filterName:"",locationPicked:[],shadowSizePicked:[],monthPicked:[],hourPicked:[]});break;case"isTimeFilter":var n=new Date;this.setState({isNoneFilter:!1,isTimeFilter:!0,monthPicked:[n.getMonth()+1],hourPicked:[0==n.getHours()?24:n.getHours()]});break;case"markedPicked":var r=JSON.parse(JSON.stringify(this.state.markedPicked)),a=r.indexOf(t);-1==a?r.push(t):r.splice(a,1),r.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,markedPicked:r});break;case"filterName":var i=t;this.setState({isNoneFilter:!1,filterName:i});break;case"locationPicked":var o=JSON.parse(JSON.stringify(this.state.locationPicked)),l=o.indexOf(t);-1==l?o.push(t):o.splice(l,1),o.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,locationPicked:o});break;case"shadowSizePicked":var s=JSON.parse(JSON.stringify(this.state.shadowSizePicked)),c=s.indexOf(t);-1==c?s.push(t):s.splice(c,1),s.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,shadowSizePicked:s});break;case"monthOptions":var u=JSON.parse(JSON.stringify(this.state.monthPicked)),m=u.indexOf(t);-1==m?u.push(t):u.splice(m,1),u.sort((function(e,t){return e-t}));var p=new Date,h=u.includes(p.getMonth()+1);this.setState({isNoneFilter:!1,isTimeFilter:!!h&&this.state.isTimeFilter,monthPicked:u});break;case"hourOptions":var f=JSON.parse(JSON.stringify(this.state.hourPicked)),d=f.indexOf(t);-1==d?f.push(t):f.splice(d,1),f.sort((function(e,t){return e-t}));var y=new Date,k=f.includes(0==y.getHours()?24:y.getHours());this.setState({isNoneFilter:!1,isTimeFilter:!!k&&this.state.isTimeFilter,hourPicked:f})}}},{key:"handleWatchingTimeFilterUpdate",value:function(){var e=new Date;if(this.state.isTimeFilter&&0==e.getMinutes()&&0==e.getSeconds()){var t="目前時間為 "+(0==e.getHours()?24:e.getHours())+" 點整, 自動更新'當前出沒'條件...";this.setState({isSnackbarShow:!0,snackbarMsg:t,isNoneFilter:!1,isTimeFilter:!0,monthPicked:[e.getMonth()+1],hourPicked:[0==e.getHours()?24:e.getHours()]})}}},{key:"handleConvertFilter",value:function(e){var t=this,n=e;return this.state.markedPicked.length>0&&(n=n.filter((function(e){return t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("已標記")||!t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("未標記")}))),this.state.filterName.length>0&&(n=n.filter((function(e){return-1!=e.chineseName.indexOf(t.state.filterName)||-1!=e.englishName.indexOf(t.state.filterName)}))),this.state.locationPicked.length>0&&(n=n.filter((function(e){return t.state.locationPicked.some((function(t){return-1!=e.location.indexOf(t)}))}))),this.state.shadowSizePicked.length>0&&(n=n.filter((function(e){return t.state.shadowSizePicked.some((function(t){return-1!=e.shadowSize.indexOf(t)}))}))),this.state.monthPicked.length>0&&(n="northern"==this.props.hemisphere?n.filter((function(e){return e.northernMonths.some((function(e){return t.state.monthPicked.includes(e)}))})):n.filter((function(e){return e.southernMonths.some((function(e){return t.state.monthPicked.includes(e)}))}))),this.state.hourPicked.length>0&&(n=n.filter((function(e){return e.appearanceTime.some((function(e){return t.state.hourPicked.includes(e)}))}))),n}},{key:"render",value:function(){var e=this,t=this.handleConvertFilter(this.props.dataList);return a.a.createElement(r.Fragment,null,a.a.createElement(O.a,{open:this.state.isSnackbarShow,onClose:function(){return e.setState({isSnackbarShow:!1})},autoHideDuration:1e4,message:this.state.snackbarMsg,action:a.a.createElement(r.Fragment,null,a.a.createElement(f.a,{variant:"outline-secondary",size:"sm",style:{float:"right"},onClick:function(){return e.setState({isSnackbarShow:!1})}},a.a.createElement(d.a,{icon:g.w})))}),a.a.createElement($,{type:"fish",isDialogShow:this.state.isDialogShow,onHide:function(){return e.setState({isDialogShow:!1,activeItem:e.state.emptyItem})},activeItem:this.state.activeItem,isMarked:this.props.markedList.includes(this.state.activeItem.index),onChangeMarked:function(t,n){return e.props.onChangeMarked(t,n)}}),a.a.createElement("span",{className:"filterGroup"},a.a.createElement(P.a,null,this.props.mainFilter,a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}}),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement(f.a,{name:"isNoneFilter",variant:"outline-secondary",size:"sm",active:this.state.isNoneFilter,onClick:function(t){return e.handleFilterClick(t.target.name,!0)}},"全部清單")," ",a.a.createElement(f.a,{name:"isTimeFilter",variant:"outline-secondary",size:"sm",active:this.state.isTimeFilter,onClick:function(t){return e.handleFilterClick(t.target.name,!0)}},"當前出沒")," ",a.a.createElement(P.a.Toggle,{eventKey:"0",as:f.a,variant:"outline-secondary",size:"sm",style:{float:"right"},onClick:function(){return e.setState({isCollapseShow:!e.state.isCollapseShow})}},a.a.createElement(d.a,{icon:g.k}))))))),a.a.createElement(P.a.Collapse,{eventKey:"0"},a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}},a.a.createElement(d.a,{icon:g.v})," 標記 : "),a.a.createElement("td",null,this.state.markedOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"markedPicked",variant:"outline-secondary",size:"sm",active:e.state.markedPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.m})," 名稱 : "),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement("input",{name:"filterName",value:this.state.filterName,className:"form-control form-control-sm",placeholder:"請輸入中/英文魚名...",onChange:function(t){return e.handleFilterClick(t.target.name,t.target.value)}})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.q})," 地點 : "),a.a.createElement("td",null,this.state.locationOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"locationPicked",variant:"outline-secondary",size:"sm",active:e.state.locationPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.l})," 魚影 : "),a.a.createElement("td",null,this.state.shadowSizeOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"shadowSizePicked",variant:"outline-secondary",size:"sm",active:e.state.shadowSizePicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.c})," 月份 : "),a.a.createElement("td",null,this.state.monthOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"monthOptions",variant:"outline-secondary",size:"sm",active:e.state.monthPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,parseInt(t.target.textContent,10))}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.g})," 時間 : "),a.a.createElement("td",null,this.state.hourOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"hourOptions",variant:"outline-secondary",size:"sm",active:e.state.hourPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,parseInt(t.target.textContent,10))}},t)," ")}))))))))),a.a.createElement("span",{className:"dataList"},a.a.createElement("hr",null),"共 "+t.length+" 筆資料符合, 點擊可查看詳細資料並標記!",a.a.createElement("hr",null),t.map((function(t,n){return a.a.createElement(ie,{key:n,type:"fish",hemisphere:e.props.hemisphere,object:t,onClick:function(){return e.setState({isDialogShow:!0,activeItem:t})},isMarked:e.props.markedList.includes(t.index)})}))))}}])&&le(t.prototype,n),i&&le(t,i),l}(r.Component);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var a=ve(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}he.defaultProps={mainFilter:a.a.createElement(r.Fragment,null),hemisphere:"northern",dataList:[],markedList:[],onChangeMarked:function(){}},he.propTypes={mainFilter:o.a.element,hemisphere:o.a.string,dataList:o.a.array,markedList:o.a.array,onChangeMarked:o.a.func};var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(l,e);var t,n,i,o=ke(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={isSnackbarShow:!1,snackbarMsg:"",isCollapseShow:!1,isDialogShow:!1,activeItem:{index:0,imageUrl:"",chineseName:"",englishName:"",price:"",location:"",northernMonths:[],southernMonths:[],appearanceTime:[],remark:""},emptyItem:{index:0,imageUrl:"",chineseName:"",englishName:"",price:"",location:"",northernMonths:[],southernMonths:[],appearanceTime:[],remark:""},markedOptions:["已標記","未標記"],locationOptions:["草地","花朵","樹幹","樹樁","石頭","水邊","水面","沙灘","腐爛大頭菜","居民身上","雪球","燈光","隨機出現"],monthOptions:[1,2,3,4,5,6,7,8,9,10,11,12],hourOptions:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],isNoneFilter:!1,isTimeFilter:!1,markedPicked:[],filterName:"",locationPicked:[],monthPicked:[],hourPicked:[]},t.handleFilterClick=t.handleFilterClick.bind(Ee(t)),t.handleWatchingTimeFilterUpdate=t.handleWatchingTimeFilterUpdate.bind(Ee(t)),t.handleConvertFilter=t.handleConvertFilter.bind(Ee(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.handleWatchingTimeFilterUpdate()}),1e3),this.handleFilterClick("isTimeFilter",!0)}},{key:"handleFilterClick",value:function(e,t){switch(e){case"isNoneFilter":this.setState({isNoneFilter:!0,isTimeFilter:!1,markedPicked:[],filterName:"",locationPicked:[],monthPicked:[],hourPicked:[]});break;case"isTimeFilter":var n=new Date;this.setState({isNoneFilter:!1,isTimeFilter:!0,monthPicked:[n.getMonth()+1],hourPicked:[0==n.getHours()?24:n.getHours()]});break;case"markedPicked":var r=JSON.parse(JSON.stringify(this.state.markedPicked)),a=r.indexOf(t);-1==a?r.push(t):r.splice(a,1),r.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,markedPicked:r});break;case"filterName":var i=t;this.setState({isNoneFilter:!1,filterName:i});break;case"locationPicked":var o=JSON.parse(JSON.stringify(this.state.locationPicked)),l=o.indexOf(t);-1==l?o.push(t):o.splice(l,1),o.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,locationPicked:o});break;case"monthOptions":var s=JSON.parse(JSON.stringify(this.state.monthPicked)),c=s.indexOf(t);-1==c?s.push(t):s.splice(c,1),s.sort((function(e,t){return e-t}));var u=new Date,m=s.includes(u.getMonth()+1);this.setState({isNoneFilter:!1,isTimeFilter:!!m&&this.state.isTimeFilter,monthPicked:s});break;case"hourOptions":var p=JSON.parse(JSON.stringify(this.state.hourPicked)),h=p.indexOf(t);-1==h?p.push(t):p.splice(h,1),p.sort((function(e,t){return e-t}));var f=new Date,d=p.includes(0==f.getHours()?24:f.getHours());this.setState({isNoneFilter:!1,isTimeFilter:!!d&&this.state.isTimeFilter,hourPicked:p})}}},{key:"handleWatchingTimeFilterUpdate",value:function(){var e=new Date;if(this.state.isTimeFilter&&0==e.getMinutes()&&0==e.getSeconds()){var t="目前時間為 "+(0==e.getHours()?24:e.getHours())+" 點整, 自動更新'當前出沒'條件...";this.setState({isSnackbarShow:!0,snackbarMsg:t,isNoneFilter:!1,isTimeFilter:!0,monthPicked:[e.getMonth()+1],hourPicked:[0==e.getHours()?24:e.getHours()]})}}},{key:"handleConvertFilter",value:function(e){var t=this,n=e;return this.state.markedPicked.length>0&&(n=n.filter((function(e){return t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("已標記")||!t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("未標記")}))),this.state.filterName.length>0&&(n=n.filter((function(e){return-1!=e.chineseName.indexOf(t.state.filterName)||-1!=e.englishName.indexOf(t.state.filterName)}))),this.state.locationPicked.length>0&&(n=n.filter((function(e){return t.state.locationPicked.some((function(t){return-1!=e.location.indexOf(t)}))}))),this.state.monthPicked.length>0&&(n="northern"==this.props.hemisphere?n.filter((function(e){return e.northernMonths.some((function(e){return t.state.monthPicked.includes(e)}))})):n.filter((function(e){return e.southernMonths.some((function(e){return t.state.monthPicked.includes(e)}))}))),this.state.hourPicked.length>0&&(n=n.filter((function(e){return e.appearanceTime.some((function(e){return t.state.hourPicked.includes(e)}))}))),n}},{key:"render",value:function(){var e=this,t=this.handleConvertFilter(this.props.dataList);return a.a.createElement(r.Fragment,null,a.a.createElement(O.a,{open:this.state.isSnackbarShow,onClose:function(){return e.setState({isSnackbarShow:!1})},autoHideDuration:1e4,message:this.state.snackbarMsg,action:a.a.createElement(r.Fragment,null,a.a.createElement(f.a,{variant:"outline-secondary",size:"sm",style:{float:"right"},onClick:function(){return e.setState({isSnackbarShow:!1})}},a.a.createElement(d.a,{icon:g.w})))}),a.a.createElement($,{type:"bug",isDialogShow:this.state.isDialogShow,onHide:function(){return e.setState({isDialogShow:!1,activeItem:e.state.emptyItem})},activeItem:this.state.activeItem,isMarked:this.props.markedList.includes(this.state.activeItem.index),onChangeMarked:function(t,n){return e.props.onChangeMarked(t,n)}}),a.a.createElement("span",{className:"filterGroup"},a.a.createElement(P.a,null,this.props.mainFilter,a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}}),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement(f.a,{name:"isNoneFilter",variant:"outline-secondary",size:"sm",active:this.state.isNoneFilter,onClick:function(t){return e.handleFilterClick(t.target.name,!0)}},"全部清單")," ",a.a.createElement(f.a,{name:"isTimeFilter",variant:"outline-secondary",size:"sm",active:this.state.isTimeFilter,onClick:function(t){return e.handleFilterClick(t.target.name,!0)}},"當前出沒")," ",a.a.createElement(P.a.Toggle,{eventKey:"0",as:f.a,variant:"outline-secondary",size:"sm",style:{float:"right"},onClick:function(){return e.setState({isCollapseShow:!e.state.isCollapseShow})}},a.a.createElement(d.a,{icon:g.k}))))))),a.a.createElement(P.a.Collapse,{eventKey:"0"},a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}},a.a.createElement(d.a,{icon:g.v})," 標記 : "),a.a.createElement("td",null,this.state.markedOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"markedPicked",variant:"outline-secondary",size:"sm",active:e.state.markedPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.m})," 名稱 : "),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement("input",{name:"filterName",value:this.state.filterName,className:"form-control form-control-sm",placeholder:"請輸入中/英文蟲名...",onChange:function(t){return e.handleFilterClick(t.target.name,t.target.value)}})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.q})," 地點 : "),a.a.createElement("td",null,this.state.locationOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"locationPicked",variant:"outline-secondary",size:"sm",active:e.state.locationPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.c})," 月份 : "),a.a.createElement("td",null,this.state.monthOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"monthOptions",variant:"outline-secondary",size:"sm",active:e.state.monthPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,parseInt(t.target.textContent,10))}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.g})," 時間 : "),a.a.createElement("td",null,this.state.hourOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"hourOptions",variant:"outline-secondary",size:"sm",active:e.state.hourPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,parseInt(t.target.textContent,10))}},t)," ")}))))))))),a.a.createElement("span",{className:"dataList"},a.a.createElement("hr",null),"共 "+t.length+" 筆資料符合, 點擊可查看詳細資料並標記!",a.a.createElement("hr",null),t.map((function(t,n){return a.a.createElement(ie,{key:n,type:"bug",hemisphere:e.props.hemisphere,object:t,onClick:function(){return e.setState({isDialogShow:!0,activeItem:t})},isMarked:e.props.markedList.includes(t.index)})}))))}}])&&de(t.prototype,n),i&&de(t,i),l}(r.Component);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var a=Ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?Oe(e):t}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}be.defaultProps={mainFilter:a.a.createElement(r.Fragment,null),hemisphere:"northern",dataList:[],markedList:[],onChangeMarked:function(){}},be.propTypes={mainFilter:o.a.element,hemisphere:o.a.string,dataList:o.a.array,markedList:o.a.array,onChangeMarked:o.a.func};var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(l,e);var t,n,i,o=we(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={isCollapseShow:!1,isDialogShow:!1,activeItem:{index:0,imageUrl:"",chineseName:"",englishName:"",price:"",series:"",remark:""},emptyItem:{index:0,imageUrl:"",chineseName:"",englishName:"",price:"",series:"",remark:""},markedOptions:["已標記","未標記"],seriesOptions:["獨立化石","甲龍","帝龜","腕龍","恐爪龍","異齒龍","梁龍","禽龍","長毛象","巨角犀","大角鹿","大眼魚龍","厚頭龍","副櫛龍","雙葉鈴木龍","無齒翼龍","風神翼龍","劍齒虎","棘龍","劍龍","三角龍","暴龍"],isNoneFilter:!1,markedPicked:[],filterName:"",seriesPicked:[]},t.handleFilterClick=t.handleFilterClick.bind(Oe(t)),t.handleConvertFilter=t.handleConvertFilter.bind(Oe(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.handleFilterClick("isNoneFilter",!0)}},{key:"handleFilterClick",value:function(e,t){switch(e){case"isNoneFilter":this.setState({isNoneFilter:!0,markedPicked:[],filterName:"",seriesPicked:[]});break;case"markedPicked":var n=JSON.parse(JSON.stringify(this.state.markedPicked)),r=n.indexOf(t);-1==r?n.push(t):n.splice(r,1),n.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,markedPicked:n});break;case"filterName":var a=t;this.setState({isNoneFilter:!1,filterName:a});break;case"seriesPicked":var i=JSON.parse(JSON.stringify(this.state.seriesPicked)),o=i.indexOf(t);-1==o?i.push(t):i.splice(o,1),i.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,seriesPicked:i})}}},{key:"handleConvertFilter",value:function(e){var t=this,n=e;return this.state.markedPicked.length>0&&(n=n.filter((function(e){return t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("已標記")||!t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("未標記")}))),this.state.filterName.length>0&&(n=n.filter((function(e){return-1!=e.chineseName.indexOf(t.state.filterName)||-1!=e.englishName.indexOf(t.state.filterName)}))),this.state.seriesPicked.length>0&&(n=n.filter((function(e){return t.state.seriesPicked.some((function(t){return-1!=e.series.indexOf(t)}))}))),n}},{key:"render",value:function(){var e=this,t=this.handleConvertFilter(this.props.dataList);return a.a.createElement(r.Fragment,null,a.a.createElement($,{type:"fossil",isDialogShow:this.state.isDialogShow,onHide:function(){return e.setState({isDialogShow:!1,activeItem:e.state.emptyItem})},activeItem:this.state.activeItem,isMarked:this.props.markedList.includes(this.state.activeItem.index),onChangeMarked:function(t,n){return e.props.onChangeMarked(t,n)}}),a.a.createElement("span",{className:"filterGroup"},a.a.createElement(P.a,null,this.props.mainFilter,a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}}),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement(f.a,{name:"isNoneFilter",variant:"outline-secondary",size:"sm",active:this.state.isNoneFilter,onClick:function(t){return e.handleFilterClick(t.target.name,!0)}},"全部清單")," ",a.a.createElement(P.a.Toggle,{eventKey:"0",as:f.a,variant:"outline-secondary",size:"sm",style:{float:"right"},onClick:function(){return e.setState({isCollapseShow:!e.state.isCollapseShow})}},a.a.createElement(d.a,{icon:g.k}))))))),a.a.createElement(P.a.Collapse,{eventKey:"0"},a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}},a.a.createElement(d.a,{icon:g.v})," 標記 : "),a.a.createElement("td",null,this.state.markedOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"markedPicked",variant:"outline-secondary",size:"sm",active:e.state.markedPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.m})," 名稱 : "),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement("input",{name:"filterName",value:this.state.filterName,className:"form-control form-control-sm",placeholder:"請輸入中/英文化石名...",onChange:function(t){return e.handleFilterClick(t.target.name,t.target.value)}})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:k})," 系列 : "),a.a.createElement("td",null,this.state.seriesOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"seriesPicked",variant:"outline-secondary",size:"sm",active:e.state.seriesPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")}))))))))),a.a.createElement("span",{className:"dataList"},a.a.createElement("hr",null),"共 "+t.length+" 筆資料符合, 點擊可查看詳細資料並標記!",a.a.createElement("hr",null),t.map((function(t,n){return a.a.createElement(ie,{key:n,type:"fossil",object:t,onClick:function(){return e.setState({isDialogShow:!0,activeItem:t})},isMarked:e.props.markedList.includes(t.index)})}))))}}])&&Fe(t.prototype,n),i&&Fe(t,i),l}(r.Component);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var a=De(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}xe.defaultProps={mainFilter:a.a.createElement(r.Fragment,null),dataList:[],markedList:[],onChangeMarked:function(){}},xe.propTypes={mainFilter:o.a.element,dataList:o.a.array,markedList:o.a.array,onChangeMarked:o.a.func};var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(l,e);var t,n,i,o=Le(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={isCollapseShow:!1,isDialogShow:!1,activeItem:{index:0,imageUrl:"",imageUrlForgery:"",chineseName:"",englishName:"",series:"",remark:""},emptyItem:{index:0,imageUrl:"",imageUrlForgery:"",chineseName:"",englishName:"",series:"",remark:""},markedOptions:["已標記","未標記"],seriesOptions:["名畫","雕像"],forgeryOptions:["無贗品","有贗品"],isNoneFilter:!1,markedPicked:[],filterName:"",seriesPicked:[],forgeryPicked:[]},t.handleFilterClick=t.handleFilterClick.bind(_e(t)),t.handleConvertFilter=t.handleConvertFilter.bind(_e(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.handleFilterClick("isNoneFilter",!0)}},{key:"handleFilterClick",value:function(e,t){switch(e){case"isNoneFilter":this.setState({isNoneFilter:!0,markedPicked:[],filterName:"",seriesPicked:[]});break;case"markedPicked":var n=JSON.parse(JSON.stringify(this.state.markedPicked)),r=n.indexOf(t);-1==r?n.push(t):n.splice(r,1),n.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,markedPicked:n});break;case"filterName":var a=t;this.setState({isNoneFilter:!1,filterName:a});break;case"seriesPicked":var i=JSON.parse(JSON.stringify(this.state.seriesPicked)),o=i.indexOf(t);-1==o?i.push(t):i.splice(o,1),i.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,seriesPicked:i});break;case"forgeryPicked":var l=JSON.parse(JSON.stringify(this.state.forgeryPicked)),s=l.indexOf(t);-1==s?l.push(t):l.splice(s,1),l.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,forgeryPicked:l})}}},{key:"handleConvertFilter",value:function(e){var t=this,n=e;return this.state.markedPicked.length>0&&(n=n.filter((function(e){return t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("已標記")||!t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("未標記")}))),this.state.filterName.length>0&&(n=n.filter((function(e){return-1!=e.chineseName.indexOf(t.state.filterName)||-1!=e.englishName.indexOf(t.state.filterName)}))),this.state.seriesPicked.length>0&&(n=n.filter((function(e){return t.state.seriesPicked.some((function(t){return-1!=e.series.indexOf(t)}))}))),this.state.forgeryPicked.length>0&&(n=n.filter((function(e){return!e.imageUrlForgery&&t.state.forgeryPicked.includes("無贗品")||e.imageUrlForgery&&t.state.forgeryPicked.includes("有贗品")}))),n}},{key:"render",value:function(){var e=this,t=this.handleConvertFilter(this.props.dataList);return a.a.createElement(r.Fragment,null,a.a.createElement($,{type:"art",isDialogShow:this.state.isDialogShow,onHide:function(){return e.setState({isDialogShow:!1,activeItem:e.state.emptyItem})},activeItem:this.state.activeItem,isMarked:this.props.markedList.includes(this.state.activeItem.index),onChangeMarked:function(t,n){return e.props.onChangeMarked(t,n)}}),a.a.createElement("span",{className:"filterGroup"},a.a.createElement(P.a,null,this.props.mainFilter,a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}}),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement(f.a,{name:"isNoneFilter",variant:"outline-secondary",size:"sm",active:this.state.isNoneFilter,onClick:function(t){return e.handleFilterClick(t.target.name,!0)}},"全部清單")," ",a.a.createElement(P.a.Toggle,{eventKey:"0",as:f.a,variant:"outline-secondary",size:"sm",style:{float:"right"},onClick:function(){return e.setState({isCollapseShow:!e.state.isCollapseShow})}},a.a.createElement(d.a,{icon:g.k}))))))),a.a.createElement(P.a.Collapse,{eventKey:"0"},a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}},a.a.createElement(d.a,{icon:g.v})," 標記 : "),a.a.createElement("td",null,this.state.markedOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"markedPicked",variant:"outline-secondary",size:"sm",active:e.state.markedPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.m})," 名稱 : "),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement("input",{name:"filterName",value:this.state.filterName,className:"form-control form-control-sm",placeholder:"請輸入中/英文美術品名...",onChange:function(t){return e.handleFilterClick(t.target.name,t.target.value)}})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.t})," 系列 : "),a.a.createElement("td",null,this.state.seriesOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"seriesPicked",variant:"outline-secondary",size:"sm",active:e.state.seriesPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.u})," 真偽 : "),a.a.createElement("td",null,this.state.forgeryOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"forgeryPicked",variant:"outline-secondary",size:"sm",active:e.state.forgeryPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")}))))))))),a.a.createElement("span",{className:"dataList"},a.a.createElement("hr",null),"共 "+t.length+" 筆資料符合, 點擊可查看詳細資料並標記!",a.a.createElement("hr",null),t.map((function(t,n){return a.a.createElement(ie,{key:n,type:"art",object:t,onClick:function(){return e.setState({isDialogShow:!0,activeItem:t})},isMarked:e.props.markedList.includes(t.index)})}))))}}])&&Ie(t.prototype,n),i&&Ie(t,i),l}(r.Component);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var a=Be(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?Ve(e):t}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ze.defaultProps={mainFilter:a.a.createElement(r.Fragment,null),dataList:[],markedList:[],onChangeMarked:function(){}},ze.propTypes={mainFilter:o.a.element,dataList:o.a.array,markedList:o.a.array,onChangeMarked:o.a.func};var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(l,e);var t,n,i,o=Ue(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={isCollapseShow:!1,isDialogShow:!1,activeItem:{index:0,imageUrl:"",chineseName:"",englishName:"",price:"",remark:""},emptyItem:{index:0,imageUrl:"",chineseName:"",englishName:"",remark:""},markedOptions:["已標記","未標記"],limitedOptions:["非限定","限定版"],isNoneFilter:!1,markedPicked:[],filterName:"",limitedPicked:[]},t.handleFilterClick=t.handleFilterClick.bind(Ve(t)),t.handleConvertFilter=t.handleConvertFilter.bind(Ve(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.handleFilterClick("isNoneFilter",!0)}},{key:"handleFilterClick",value:function(e,t){switch(e){case"isNoneFilter":this.setState({isNoneFilter:!0,markedPicked:[],filterName:""});break;case"markedPicked":var n=JSON.parse(JSON.stringify(this.state.markedPicked)),r=n.indexOf(t);-1==r?n.push(t):n.splice(r,1),n.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,markedPicked:n});break;case"filterName":var a=t;this.setState({isNoneFilter:!1,filterName:a});break;case"limitedPicked":var i=JSON.parse(JSON.stringify(this.state.limitedPicked)),o=i.indexOf(t);-1==o?i.push(t):i.splice(o,1),i.sort((function(e,t){return e-t})),this.setState({isNoneFilter:!1,limitedPicked:i})}}},{key:"handleConvertFilter",value:function(e){var t=this,n=e;return this.state.markedPicked.length>0&&(n=n.filter((function(e){return t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("已標記")||!t.props.markedList.includes(e.index)&&t.state.markedPicked.includes("未標記")}))),this.state.filterName.length>0&&(n=n.filter((function(e){return-1!=e.chineseName.indexOf(t.state.filterName)||-1!=e.englishName.indexOf(t.state.filterName)}))),this.state.limitedPicked.length>0&&(n=n.filter((function(e){return-1!=e.remark.indexOf("Nook購物")&&t.state.limitedPicked.includes("非限定")||-1!=e.remark.indexOf("非賣品")&&t.state.limitedPicked.includes("限定版")}))),n}},{key:"render",value:function(){var e=this,t=this.handleConvertFilter(this.props.dataList);return a.a.createElement(r.Fragment,null,a.a.createElement($,{type:"song",isDialogShow:this.state.isDialogShow,onHide:function(){return e.setState({isDialogShow:!1,activeItem:e.state.emptyItem})},activeItem:this.state.activeItem,isMarked:this.props.markedList.includes(this.state.activeItem.index),onChangeMarked:function(t,n){return e.props.onChangeMarked(t,n)}}),a.a.createElement("span",{className:"filterGroup"},a.a.createElement(P.a,null,this.props.mainFilter,a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}}),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement(f.a,{name:"isNoneFilter",variant:"outline-secondary",size:"sm",active:this.state.isNoneFilter,onClick:function(t){return e.handleFilterClick(t.target.name,!0)}},"全部清單")," ",a.a.createElement(P.a.Toggle,{eventKey:"0",as:f.a,variant:"outline-secondary",size:"sm",style:{float:"right"},onClick:function(){return e.setState({isCollapseShow:!e.state.isCollapseShow})}},a.a.createElement(d.a,{icon:g.k}))))))),a.a.createElement(P.a.Collapse,{eventKey:"0"},a.a.createElement(h.a,{className:"filter"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{style:{width:"100px"}},a.a.createElement(d.a,{icon:g.v})," 標記 : "),a.a.createElement("td",null,this.state.markedOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"markedPicked",variant:"outline-secondary",size:"sm",active:e.state.markedPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.m})," 名稱 : "),a.a.createElement("td",null,a.a.createElement("span",null,a.a.createElement("input",{name:"filterName",value:this.state.filterName,className:"form-control form-control-sm",placeholder:"請輸入中/英文唱片名...",onChange:function(t){return e.handleFilterClick(t.target.name,t.target.value)}})))),a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(d.a,{icon:g.i})," 限定 : "),a.a.createElement("td",null,this.state.limitedOptions.map((function(t,n){return a.a.createElement("span",{key:n},a.a.createElement(f.a,{name:"limitedPicked",variant:"outline-secondary",size:"sm",active:e.state.limitedPicked.includes(t),onClick:function(t){return e.handleFilterClick(t.target.name,t.target.textContent)}},t)," ")}))))))))),a.a.createElement("span",{className:"dataList"},a.a.createElement("hr",null),"共 "+t.length+" 筆資料符合, 點擊可查看詳細資料並標記!",a.a.createElement("hr",null),t.map((function(t,n){return a.a.createElement(ie,{key:n,type:"song",object:t,onClick:function(){return e.setState({isDialogShow:!0,activeItem:t})},isMarked:e.props.markedList.includes(t.index)})}))))}}])&&Je(t.prototype,n),i&&Je(t,i),l}(r.Component);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var a=Ye(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?Xe(e):t}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}We.defaultProps={mainFilter:a.a.createElement(r.Fragment,null),dataList:[],markedList:[],onChangeMarked:function(){}},We.propTypes={mainFilter:o.a.element,dataList:o.a.array,markedList:o.a.array,onChangeMarked:o.a.func};var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(l,e);var t,n,i,o=$e(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).handleInitMarked=t.handleInitMarked.bind(Xe(t)),t.handleChangeMarked=t.handleChangeMarked.bind(Xe(t)),t.handleInitValue=t.handleInitValue.bind(Xe(t)),t.handleChangeValue=t.handleChangeValue.bind(Xe(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.handleInitMarked(),this.handleInitValue()}},{key:"handleInitMarked",value:function(){var e=window.localStorage;e.getItem("markedLists")&&this.props.handleAssignFormMain({markedLists:JSON.parse(e.getItem("markedLists"))})}},{key:"handleChangeMarked",value:function(e,t){var n=window.localStorage,r=JSON.parse(JSON.stringify(this.props.markedLists)),a=r[e].indexOf(t);-1==a?r[e].push(t):r[e].splice(a,1),r[e].sort((function(e,t){return e-t})),this.props.handleAssignFormMain({markedLists:r}),n.setItem("markedLists",JSON.stringify(r))}},{key:"handleInitValue",value:function(){var e=window.localStorage,t=this.props.type,n=this.props.hemisphere;e.getItem("type")&&(t=e.getItem("type")),e.getItem("hemisphere")&&(n=e.getItem("hemisphere")),this.handleChangeValue("type",t),this.handleChangeValue("hemisphere",n)}},{key:"handleChangeValue",value:function(e,t){var n=this;switch(e){case"type":if(t){var r=JSON.parse(JSON.stringify(this.props.dataLists)),a=window.localStorage,i=new Date;(!a.getItem("timestamp")||i.getTime()-parseInt(a.getItem("timestamp"))>1728e5)&&a.removeItem(t),r[t]&&r[t].length>0?(this.props.handleAssignFormMain({type:t}),a.setItem("type",t)):a.getItem(t)&&JSON.parse(a.getItem(t)).length>0?(r[t]=JSON.parse(a.getItem(t)),this.props.handleAssignFormMain({type:t,dataLists:r}),a.setItem("type",t)):(this.props.setBlocking(!0),p({type:t}).then((function(e){var o=e.data;r[t]=o,n.props.handleAssignFormMain({type:t,dataLists:r}),a.setItem("type",t),a.setItem(t,JSON.stringify(r[t])),a.setItem("timestamp",i.getTime().toString())})).catch((function(e){console.log("Fail! "+e),alert("載入失敗😥\n請嘗試重新整理!!")})).finally((function(){setTimeout((function(){return n.props.setBlocking(!1)}),100)})))}break;case"hemisphere":var o=window.localStorage;this.props.handleAssignValue(e,t),o.setItem("hemisphere",t)}}},{key:"render",value:function(){var e=this,t=a.a.createElement(w,{type:this.props.type,hemisphere:this.props.hemisphere,onChangeValue:function(t,n){return e.handleChangeValue(t,n)}}),n=a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"accordion"},t),a.a.createElement("hr",null),a.a.createElement("h5",null,"Hello!!"),a.a.createElement("p",null,"歡迎使用 ac-Guide 動森圖鑑, "),a.a.createElement("p",null,"點選上方種類, 及選擇預設地區開始!"),a.a.createElement("p",null,"點擊查詢結果會顯示詳細資料, 並可添加標記~"));return a.a.createElement("div",{className:"main"},{fish:a.a.createElement(he,{mainFilter:t,hemisphere:this.props.hemisphere,dataList:this.props.dataLists[this.props.type],markedList:this.props.markedLists[this.props.type],onChangeMarked:function(t,n){return e.handleChangeMarked(t,n)}}),bug:a.a.createElement(be,{mainFilter:t,hemisphere:this.props.hemisphere,dataList:this.props.dataLists[this.props.type],markedList:this.props.markedLists[this.props.type],onChangeMarked:function(t,n){return e.handleChangeMarked(t,n)}}),fossil:a.a.createElement(xe,{mainFilter:t,dataList:this.props.dataLists[this.props.type],markedList:this.props.markedLists[this.props.type],onChangeMarked:function(t,n){return e.handleChangeMarked(t,n)}}),art:a.a.createElement(ze,{mainFilter:t,dataList:this.props.dataLists[this.props.type],markedList:this.props.markedLists[this.props.type],onChangeMarked:function(t,n){return e.handleChangeMarked(t,n)}}),song:a.a.createElement(We,{mainFilter:t,dataList:this.props.dataLists[this.props.type],markedList:this.props.markedLists[this.props.type],onChangeMarked:function(t,n){return e.handleChangeMarked(t,n)}})}[this.props.type]||n)}}])&&Ge(t.prototype,n),i&&Ge(t,i),l}(r.Component);t.default=Object(l.b)((function(e,t){return{ownProps:t,type:e.formMain.type,hemisphere:e.formMain.hemisphere,dataLists:e.formMain.dataLists,markedLists:e.formMain.markedLists}}),(function(e,t){return{ownProps:t,setBlocking:function(t){e(s.b.setBlocking(t))},handleAssignFormHeader:function(t){e(s.b.assignFormDataHeader({formHeader:t}))},handleAssignFormMain:function(t){e(s.b.assignFormDataMain({formMain:t}))},handleAssignFormFoorter:function(t){e(s.b.assignFormDataFooter({formFooter:t}))},handleAssignValue:function(t,n){e(s.b.assignValue(t,n,"formMainReducer"))}}}))(Ze);Ze.propTypes={type:o.a.string,hemisphere:o.a.string,dataLists:o.a.object,markedLists:o.a.object,setBlocking:o.a.func,handleAssignFormHeader:o.a.func,handleAssignFormMain:o.a.func,handleAssignFormFoorter:o.a.func,handleAssignValue:o.a.func}}}]);